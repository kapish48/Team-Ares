{
  "name": "AuthorizationRequest",
  "type": "object",
  "properties": {
    "request_id": {
      "type": "string",
      "description": "Unique authorization request ID"
    },
    "patient_case_id": {
      "type": "string",
      "description": "Reference to PatientCase entity ID"
    },
    "patient_name": {
      "type": "string"
    },
    "treatment_requested": {
      "type": "string"
    },
    "payer_name": {
      "type": "string"
    },
    "policy_id": {
      "type": "string",
      "description": "Reference to PolicyRule used"
    },
    "submission_timestamp": {
      "type": "string",
      "format": "date-time"
    },
    "decision": {
      "type": "string",
      "enum": [
        "approved",
        "denied",
        "review_required",
        "processing"
      ],
      "default": "processing"
    },
    "ai_decision": {
      "type": "string",
      "enum": [
        "approved",
        "denied",
        "review_required"
      ],
      "description": "Original AI recommendation"
    },
    "decision_rationale": {
      "type": "string",
      "description": "Detailed explanation of decision"
    },
    "confidence_score": {
      "type": "number",
      "minimum": 0,
      "maximum": 100,
      "description": "AI confidence percentage"
    },
    "decision_timestamp": {
      "type": "string",
      "format": "date-time"
    },
    "processing_time_seconds": {
      "type": "number"
    },
    "evidence_extracted": {
      "type": "object",
      "description": "Key evidence points from patient file",
      "additionalProperties": true
    },
    "policy_criteria_evaluated": {
      "type": "array",
      "description": "List of policy criteria checked",
      "items": {
        "type": "object",
        "properties": {
          "criterion": {
            "type": "string"
          },
          "met": {
            "type": "boolean"
          },
          "evidence": {
            "type": "string"
          }
        }
      }
    },
    "reviewer_name": {
      "type": "string",
      "description": "Name of human reviewer if applicable"
    },
    "reviewer_notes": {
      "type": "string"
    },
    "audit_pdf_url": {
      "type": "string"
    },
    "status": {
      "type": "string",
      "enum": [
        "pending",
        "completed",
        "appealed"
      ],
      "default": "pending"
    },
    "workflow_stage": {
      "type": "string",
      "enum": [
        "intake",
        "extraction",
        "policy_match",
        "ai_decision",
        "human_review",
        "audit_generation",
        "completed"
      ],
      "default": "intake"
    }
  },
  "required": [
    "request_id",
    "patient_case_id"
  ]
}